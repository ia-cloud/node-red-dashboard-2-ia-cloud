# node-red-dashboard-2-ui-oprstatus

## 名称

dashboard-2 - ui-oprstatusノード

## 機能概要

稼働状況グラフを表示します。

## 入力メッセージ

入力メッセージを```msg.payload```から入力します。

### DynamoDB(chart用)

ノード「データ取得V2(chart用)」からの出力を入力する場合は、入力値で「データ取得V2(chart用)」を指定します。
以下に例を示します。

```
[
    {
        "series": "DI-1",
        "x": "2025-01-20T00:50:00+09:00",
        "y": false
    },
    {
        "series": "DI-1",
        "x": "2025-01-20T00:51:00+09:00",
        "y": false
    },
    {
        "series": "DI-1",
        "x": "2025-01-20T00:52:00+09:00",
        "y": true
    },
    {
        "series": "DI-1",
        "x": "2025-01-20T01:53:00+09:00",
        "y": true
    },
    {
        "series": "DI-1",
        "x": "2025-01-20T01:54:00+09:00",
        "y": false
    }
]
```

### フォーマットデータ

直接変換対象データを入力する場合は入力値で「フォーマットデータ」を指定します。
以下に例を示します。

```
[
    ["2025-01-20T08:10:00+09:00", 0],
    ["2025-01-20T08:11:00+09:00", 0],
    ["2025-01-20T08:12:00+09:00", 1],
    ["2025-01-20T08:13:00+09:00", 1],
    ["2025-01-20T08:14:00+09:00", 1]
]
```

以下のように、入力値に応じて、ランプの状態が変わります。

| 入力値 | データ型 | ランプの状態 |
|:-:|:-:|:-:|
|true|boolean|点灯|
|1|number|点灯|
|"true"|string|点灯|
|"1"|string|点灯|
|false|boolean|消灯|
|0|number|消灯|
|"false"|string|消灯|
|"0"|string|消灯|
|""|string|変化しない|
|null|null|変化しない|

## プロパティ

変換するデータに応じて、以下のパラメータを設定します。

- ### グループ名

  結果を出力するダッシュボードグループを設定します。

- ### サイズ

  結果出力時のテーブルサイズを設定します。

- ### ラベル

  ダッシュボード上での表示名を設定します。

- ### 入力値

  入力するデータの種類を設定します。
  　・データ取得V2(chart用)
  　・フォーマットデータ

- ### 凡例表示

  グラフ内の凡例の表示有無を設定します。

- ### ソート

  入力データが降順／降順どちらかを設定します。

- ### サブタイトル

  表示する稼働状況グラフのサブタイトルを設定します。
  例：稼働信号

- ### 状態設定

  各指定値毎に表示する色、状態名を指定します
  例：表示色 -> グレー、指定値 -> 0、状態名 -> 正常停止

- ### 名前

  フロー上で表示するノード名を設定します。

## 出力メッセージ

ダッシュボード上に入力パラメータに応じた稼働状況グラフが出力されます。

※各項目詳細設定に記載のない値が入力された場合、該当部分のグラフは描画されません。
