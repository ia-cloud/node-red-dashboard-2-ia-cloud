# node-red-dashboard-2-ui-num-dt

## 名称

dashboard-2 - ui-num-dtノード

## 機能概要

ウィジェット追加方法[[Building Third Party Widgets](https://dashboard.flowfuse.com/contributing/widgets/third-party.html)]を参考に実装したノードです。
「ラベル + 値 + 単位」もしくは「(ラベル) + 日時」を、入力メッセージの配列数だけ、縦に並べて表示します。

## 入力メッセージ

プロパティ内のデータ型(Datatype)に設定値に対応した入力メッセージを``msg.payload``から入力します。

- ### プロパティでデータ型に「数値」を設定した場合
  以下のように`[[ラベル, 値, 単位], ...]`のデータ形式で入力してください。

        [
            [
                "温度",
                26.52,
                "℃"
            ],
            [
                "湿度",
                65.512,
                "%"
            ],
            [
                "気圧",
                1020.4,
                "hPa"
            ],
            [
                "照度",
                432.3,
                "lx"
            ]
        ]


- ### プロパティでデータ型に「日時」を設定した場合
  以下のように`[日時, ...]`のデータ形式で入力してください。
  日時には、以下のような形式にしてください。

        [
            {
                "date": "2017-10-16 10:00:00"
            },
            {
                "date": "2017-10-16 11:00:00"
            },
            {
                "date": "2017-10-16 12:00:00"
            },
            {
                "date": "2017-10-16 13:00:00"
            },
            {
                "date": "2017-10-16 14:00:00"
            }
        ]



## プロパティ
本ノードは以下のプロパティを持ちます。

| 名称(ja) | 名称(en-US) | 種別 | 説明 |
|:------|:-|:-:|:-|
|グループ|Group|dashboard group|結果を出力するダッシュボードグループを設定します。|
|サイズ|Size|number x number|ダッシュボード上に表示するサイズを設定します。|
|データ型|Datatype|string|プルダウンで「数値」(Number) or 「日時」(Datetime)を設定します。|
|名前|Name|string|フローエディタ上で表示される名前を設定します。|

データ型の設定値によって、以下のようにプロパティが異なります。
それぞれのプロパティは、複数設定可能です。

 - ### データ型に「数値」を設定した場合

| 名称(ja) | 名称(en-US) | 種別 | 説明 |
|:-|:-|:-:|:-|
|ラベル|Label|string|設定することで、入力メッセージのラベルを上書きして、ダッシュボードに表示できます。<br>空欄の場合は、入力メッセージのラベルがそのまま表示されます。|
|有効桁数|Digits|number|ダッシュボードに表示する、入力メッセージの「値」の小数点以下の桁数を設定します。<br>Number(value).toFixed(digits)を利用しており、値は四捨五入されます。<br>詳細は[js STUDIO .toFixed()](http://js.studio-kingdom.com/javascript/number/to_fixed)を参照してください。|
|単位|Units|string|設定することで、入力メッセージの「単位」を上書きして、ダッシュボードに表示できます。<br>入力メッセージの「単位」がそのまま表示されます。|

 - ### データ型に「日時」を設定した場合

| 名称(ja) | 名称(en-US) | 種別 | 説明 |
|:-|:-|:-:|:-|
|ラベル|Label|string|表示したいラベル名を入力します。<br>ラベルは左詰めで表示されます。|
|表示形式|Format|string|ダッシュボードに表示する、「日時」の表示形式を指定します。<br>詳細は[Moment.js Documentation Display](https://momentjs.com/docs/#/displaying/format/)を参照してください。<br>空欄の場合は、入力メッセージの「日時」がそのまま表示されます。|


## 出力メッセージ
なし。
ダッシュボード上に、入力メッセージの配列数に応じて、縦に並べて文字列が出力されます。