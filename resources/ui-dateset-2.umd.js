(function(o,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue"),require("vuex")):typeof define=="function"&&define.amd?define(["exports","vue","vuex"],n):(o=typeof globalThis<"u"?globalThis:o||self,n(o["ui-dateset-2"]={},o.Vue,o.vuex))})(this,function(o,n,d){"use strict";function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u=f,c=/\s/,p=/(_|-|\.|:)/,m=/([a-z][A-Z]|[A-Z][a-z])/;function f(e){return c.test(e)?e.toLowerCase():p.test(e)?(w(e)||e).toLowerCase():m.test(e)?C(e).toLowerCase():e.toLowerCase()}var h=/[\W_]+(.|$)/g;function w(e){return e.replace(h,function(t,i){return i?" "+i:""})}var v=/(.)([A-Z]+)/g;function C(e){return e.replace(v,function(t,i,a){return i+" "+a.toLowerCase().split("").join(" ")})}var y=u,g=b;function b(e){return y(e).replace(/[a-z]/i,function(t){return t.toUpperCase()}).trim()}var S=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")},_=["a","an","and","as","at","but","by","en","for","from","how","if","in","neither","nor","of","on","only","onto","out","or","per","so","than","that","the","to","until","up","upon","v","v.","versus","vs","vs.","via","when","with","without","yet"],$=g,k=S,V=_,j=T,x=V.map(k),D=new RegExp("[^^]\\b("+x.join("|")+")\\b","ig"),N=/:\s*(\w)/g;function T(e){return $(e).replace(/(^|\s)(\w)/g,function(t,i,a){return i+a.toUpperCase()}).replace(D,function(t){return t.toLowerCase()}).replace(N,function(t){return t.toUpperCase()})}const U=l(j),E=(e,t)=>{const i=e.__vccOpts||e;for(const[a,r]of t)i[a]=r;return i},M={name:"UIDateSet",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})},state:{type:Object,default:()=>({enabled:!1,visible:!1})}},setup(e){console.info("UIDateSet setup with:",e),console.debug("Vue function loaded correctly",n.markRaw)},data(){return{sdatetime:void 0,edatetime:void 0}},computed:{titleCase(){return U(this.input.title)},...d.mapState("data",["messages"])},mounted(){this.$socket.on("widget-load:"+this.id,e=>{this.$store.commit("data/bind",{widgetId:this.id,msg:e})}),this.$socket.on("msg-input:"+this.id,e=>{this.$store.commit("data/bind",{widgetId:this.id,msg:e})}),this.$socket.emit("widget-load",this.id)},unmounted(){var e,t;(e=this.$socket)==null||e.off("widget-load"+this.id),(t=this.$socket)==null||t.off("msg-input:"+this.id)},methods:{send(e){this.$socket.emit("widget-action",this.id,e)},alert(e){alert(e)},sendDate(){this.$socket.emit("dateset-event",this.id,{payload:{sdatetime:this.sdatetime,edatetime:this.edatetime}})}}},I={className:"ui-dateset-wrapper"},L={style:{width:"100%",align:"center"}};function O(e,t,i,a,r,q){const A=n.resolveComponent("v-btn");return n.openBlock(),n.createElementBlock("div",I,[n.createElementVNode("div",L,[n.withDirectives(n.createElementVNode("input",{style:{width:"25%",align:"center"},type:"datetime-local",step:"1",id:"sdatetime","onUpdate:modelValue":t[0]||(t[0]=s=>r.sdatetime=s)},null,512),[[n.vModelText,r.sdatetime]]),t[4]||(t[4]=n.createElementVNode("span",{style:{width:"10%",align:"center"}},"　～　",-1)),n.withDirectives(n.createElementVNode("input",{style:{width:"25%",align:"center"},type:"datetime-local",step:"1",id:"edatetime","onUpdate:modelValue":t[1]||(t[1]=s=>r.edatetime=s)},null,512),[[n.vModelText,r.edatetime]]),n.createVNode(A,{style:{align:"center"},onClick:t[2]||(t[2]=s=>q.sendDate())},{default:n.withCtx(()=>t[3]||(t[3]=[n.createTextVNode("更新")])),_:1})])])}const z=E(M,[["render",O]]);o.UIDateSet=z,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
